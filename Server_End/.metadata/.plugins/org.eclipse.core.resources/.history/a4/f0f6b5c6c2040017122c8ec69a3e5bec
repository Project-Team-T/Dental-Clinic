<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" th:replace="~{fragments/layout :: layout (~{::body},'appointments')}">

  <body>

    <h2>Dentists</h2>
    
    <table id="appointments" class="table table-striped">
    <thead>
      <tr>
        <th>Appointment Type</th>
        <th>Dentist</th>
        <th>Patient</th>
        <th>Time</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="appointment : ${appointments}">
      	<td th:text = "${appointment.appointment_type}"></td>
      	
        <td>
        	<a th:href="@{dentist/__${dentist.id}__}" th:text="${'Dr  ' + appiontment.dentist.firstName + ' ' + appointment.dentist.lastName}"></a>
        </td>
        <td th:text="${dentist.Email}"></td>

		<td>
			<span th:each="schedule : ${dentist.schedules}"
	          th:text="${schedule.Day + ':' +schedule.Time_begin + '--' +schedule.Time_end + ' '}" /> <span
	          th:if="${dentist.nrOfSchedules == 0}">none</span>
          </td>
        <td><a th:href="@{/dentist/new}">Edit</a></td>
      </tr>
    </tbody>
  </table>

  <table class="table-buttons">
    <tr>
      <td><a th:href="@{dentist/dentists.xml}">View as XML   </a></td>
      <td></td>
      <td><a th:href="@{dentist/dentists.json}">View as JSON</a></td>
    </tr>
  </table>
	
	<br />
	<a class="btn btn-default" th:href="@{/dentist/new}">Add Dentist</a>
  </body>

</html>